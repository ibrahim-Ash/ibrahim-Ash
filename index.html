<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 2025 Course Library</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 20px;
        }

        header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            color: #666;
            font-size: 1.1em;
        }

        .language-selector {
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: #e0e0e0;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .lang-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .stats {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            text-align: center;
            min-width: 150px;
        }

        .stat-card .number {
            font-size: 2em;
            font-weight: bold;
        }

        .stat-card .label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .login-section, .upload-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .login-section {
            max-width: 500px;
            margin: 0 auto 30px;
        }

        .section-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-badge {
            background: #10b981;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9em;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            background: #f8f9ff;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-area:hover {
            background: #eef0ff;
            border-color: #764ba2;
        }

        .btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .logout-btn {
            background: #ef4444;
            padding: 10px 20px;
            width: auto;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .logout-btn:hover {
            background: #dc2626;
        }

        .search-bar {
            margin-bottom: 30px;
        }

        .search-bar input {
            width: 100%;
            padding: 15px 15px 15px 50px;
            border: 2px solid white;
            border-radius: 10px;
            font-size: 1.1em;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .search-bar input:focus {
            outline: none;
            border-color: #667eea;
        }

        .category {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .category h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .course-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .course-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 10px;
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .course-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .course-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .course-description {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 15px;
            min-height: 40px;
        }

        .course-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85em;
            color: #888;
            margin: 15px 0;
            padding-top: 15px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        .download-btn {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: inline-block;
            text-align: center;
            transition: background 0.3s;
        }

        .download-btn:hover {
            background: #764ba2;
        }

        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4757;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3em;
            font-weight: bold;
            transition: background 0.3s;
        }

        .delete-btn:hover {
            background: #ff3838;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 5em;
            margin-bottom: 15px;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .course-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <div>
                    <h1>📚 <span id="siteTitle">Class 2025 Course Library</span></h1>
                    <p id="siteSubtitle">Your one-stop resource hub for all course materials</p>
                </div>
                <div class="language-selector">
                    <button class="lang-btn active" onclick="changeLanguage('en')">EN</button>
                    <button class="lang-btn" onclick="changeLanguage('fr')">FR</button>
                    <button class="lang-btn" onclick="changeLanguage('ar')">AR</button>
                </div>
            </div>
            <div class="stats">
                <div class="stat-card">
                    <div class="number" id="totalCourses">0</div>
                    <div class="label" id="labelCourses">Total Courses</div>
                </div>
                <div class="stat-card">
                    <div class="number">4</div>
                    <div class="label" id="labelCategories">Categories</div>
                </div>
                <div class="stat-card">
                    <div class="number" id="totalDownloads">0</div>
                    <div class="label" id="labelDownloads">Downloads</div>
                </div>
            </div>
        </header>

        <!-- Login Section -->
        <div class="login-section" id="loginSection">
            <h2 class="section-title">🔒 <span id="adminLoginTitle">Admin Login</span></h2>
            <div class="form-group">
                <label id="passwordLabel">Password</label>
                <input type="password" id="passwordInput" placeholder="Enter admin password">
            </div>
            <button class="btn" onclick="handleLogin()" id="loginBtn">Login</button>
        </div>

        <!-- Upload Section -->
        <div class="upload-section hidden" id="uploadSection">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 class="section-title">⬆️ <span id="uploadTitle">Upload New Course Material</span></h2>
                <button class="btn logout-btn" onclick="handleLogout()">
                    🚪 <span id="logoutText">Logout</span>
                </button>
            </div>
            
            <div class="admin-badge">
                🔓 <span id="adminModeText">Admin Mode</span>
            </div>

            <div class="form-group">
                <label id="titleLabel">Course Title *</label>
                <input type="text" id="courseTitle" placeholder="e.g., Advanced Mathematics">
            </div>

            <div class="form-group">
                <label id="descLabel">Description</label>
                <textarea id="courseDescription" rows="3" placeholder="Brief description..."></textarea>
            </div>

            <div class="form-group">
                <label id="categoryLabel">Category *</label>
                <select id="courseCategory">
                    <option value="">Select a category</option>
                    <option value="mathematics">📐 Mathematics</option>
                    <option value="science">🔬 Science</option>
                    <option value="languages">🗣️ Languages</option>
                    <option value="other">📖 Other</option>
                </select>
            </div>

            <div class="form-group">
                <label id="fileLabel">PDF File *</label>
                <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                    <div style="font-size: 4em; margin-bottom: 10px;">📄</div>
                    <div id="fileName">Click to select PDF file</div>
                    <input type="file" id="fileInput" accept=".pdf" style="display: none;">
                </div>
            </div>

            <button class="btn" onclick="handleSubmit()" id="addCourseBtn">Add Course Material</button>
        </div>

        <!-- Search Bar -->
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="🔍 Search courses..." oninput="filterCourses()">
        </div>

        <!-- Courses Section -->
        <div class="category">
            <h2>📐 <span id="mathTitle">Mathematics</span></h2>
            <div class="course-grid" id="mathematics"></div>
        </div>

        <div class="category">
            <h2>🔬 <span id="scienceTitle">Science</span></h2>
            <div class="course-grid" id="science"></div>
        </div>

        <div class="category">
            <h2>🗣️ <span id="languagesTitle">Languages</span></h2>
            <div class="course-grid" id="languages"></div>
        </div>

        <div class="category">
            <h2>📖 <span id="otherTitle">Other</span></h2>
            <div class="course-grid" id="other"></div>
        </div>
    </div>

    <script src="translations.js"></script>
    <script>
        const ADMIN_PASSWORD = 'admin2025';
        let isAdmin = false;
        let courses = {};
        let downloadCount = 0;
        let currentLanguage = 'en';
        let selectedFile = null;

        // Translations object
        const translations = {
            en: {
                siteTitle: "Class 2025 Course Library",
                siteSubtitle: "Your one-stop resource hub for all course materials",
                totalCourses: "Total Courses",
                categories: "Categories",
                totalDownloads: "Downloads",
                adminLogin: "Admin Login",
                password: "Password",
                login: "Login",
                logout: "Logout",
                uploadNew: "Upload New Course Material",
                courseTitle: "Course Title",
                description: "Description",
                category: "Category",
                selectCategory: "Select a category",
                mathematics: "Mathematics",
                science: "Science",
                languages: "Languages",
                other: "Other",
                pdfFile: "PDF File",
                clickToSelect: "Click to select PDF file",
                addCourse: "Add Course Material",
                searchPlaceholder: "🔍 Search courses...",
                noCoursesYet: "No courses yet in this category",
                uploadDate: "Upload Date",
                downloadBtn: "Download",
                deleteConfirm: "Are you sure you want to delete this course?",
                courseAdded: "Course material added successfully!",
                selectFile: "Please select a PDF file",
                wrongPassword: "Wrong password! Please try again.",
                adminMode: "Admin Mode"
            },
            fr: {
                siteTitle: "Bibliothèque de Cours Classe 2025",
                siteSubtitle: "Votre hub de ressources unique pour tous les supports de cours",
                totalCourses: "Total Cours",
                categories: "Catégories",
                totalDownloads: "Téléchargements",
                adminLogin: "Connexion Admin",
                password: "Mot de passe",
                login: "Se connecter",
                logout: "Déconnexion",
                uploadNew: "Téléverser Nouveau Matériel",
                courseTitle: "Titre du Cours",
                description: "Description",
                category: "Catégorie",
                selectCategory: "Sélectionner une catégorie",
                mathematics: "Mathématiques",
                science: "Sciences",
                languages: "Langues",
                other: "Autre",
                pdfFile: "Fichier PDF",
                clickToSelect: "Cliquez pour sélectionner un fichier PDF",
                addCourse: "Ajouter le Matériel",
                searchPlaceholder: "🔍 Rechercher des cours...",
                noCoursesYet: "Pas encore de cours dans cette catégorie",
                uploadDate: "Date de téléversement",
                downloadBtn: "Télécharger",
                deleteConfirm: "Êtes-vous sûr de vouloir supprimer ce cours?",
                courseAdded: "Matériel de cours ajouté avec succès!",
                selectFile: "Veuillez sélectionner un fichier PDF",
                wrongPassword: "Mauvais mot de passe! Veuillez réessayer.",
                adminMode: "Mode Admin"
            },
            ar: {
                siteTitle: "مكتبة دورات الصف 2026",
                siteSubtitle: "مركز الموارد الشامل لجميع المواد الدراسية",
                totalCourses: "إجمالي الدورات",
                categories: "الفئات",
                totalDownloads: "التنزيلات",
                adminLogin: "تسجيل دخول المسؤول",
                password: "كلمة المرور",
                login: "تسجيل الدخول",
                logout: "تسجيل الخروج",
                uploadNew: "رفع مادة دراسية جديدة",
                courseTitle: "عنوان الدورة",
                description: "الوصف",
                category: "الفئة",
                selectCategory: "اختر فئة",
                mathematics: "الرياضيات",
                science: "العلوم",
                languages: "اللغات",
                other: "أخرى",
                pdfFile: "ملف PDF",
                clickToSelect: "انقر لاختيار ملف PDF",
                addCourse: "إضافة المادة",
                searchPlaceholder: "🔍 ابحث عن الدورات...",
                noCoursesYet: "لا توجد دورات حتى الآن في هذه الفئة",
                uploadDate: "تاريخ الرفع",
                downloadBtn: "تحميل",
                deleteConfirm: "هل أنت متأكد من حذف هذه الدورة؟",
                courseAdded: "تمت إضافة المادة الدراسية بنجاح!",
                selectFile: "الرجاء اختيار ملف PDF",
                wrongPassword: "كلمة مرور خاطئة! حاول مرة أخرى.",
                adminMode: "وضع المسؤول"
            }
        };

        // Initialize
        window.onload = function() {
            loadData();
            renderCourses();
            updateStats();
        };

        // Load data
        function loadData() {
            const savedCourses = localStorage.getItem('courses');
            const savedDownloads = localStorage.getItem('downloadCount');
            if (savedCourses) courses = JSON.parse(savedCourses);
            if (savedDownloads) downloadCount = parseInt(savedDownloads);
        }

        // Save data
        function saveData() {
            localStorage.setItem('courses', JSON.stringify(courses));
            localStorage.setItem('downloadCount', downloadCount.toString());
        }

        // Language change
        function changeLanguage(lang) {
            currentLanguage = lang;
            const t = translations[lang];
            
            // Update all text elements
            document.getElementById('siteTitle').textContent = t.siteTitle;
            document.getElementById('siteSubtitle').textContent = t.siteSubtitle;
            document.getElementById('labelCourses').textContent = t.totalCourses;
            document.getElementById('labelCategories').textContent = t.categories;
            document.getElementById('labelDownloads').textContent = t.totalDownloads;
            document.getElementById('adminLoginTitle').textContent = t.adminLogin;
            document.getElementById('passwordLabel').textContent = t.password;
            document.getElementById('loginBtn').textContent = t.login;
            document.getElementById('uploadTitle').textContent = t.uploadNew;
            document.getElementById('logoutText').textContent = t.logout;
            document.getElementById('adminModeText').textContent = t.adminMode;
            document.getElementById('titleLabel').textContent = t.courseTitle + ' *';
            document.getElementById('descLabel').textContent = t.description;
            document.getElementById('categoryLabel').textContent = t.category + ' *';
            document.getElementById('fileLabel').textContent = t.pdfFile + ' *';
            document.getElementById('addCourseBtn').textContent = t.addCourse;
            document.getElementById('searchInput').placeholder = t.searchPlaceholder;
            document.getElementById('mathTitle').textContent = t.mathematics;
            document.getElementById('scienceTitle').textContent = t.science;
            document.getElementById('languagesTitle').textContent = t.languages;
            document.getElementById('otherTitle').textContent = t.other;
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            renderCourses();
        }

        // Handle login
        function handleLogin() {
            const password = document.getElementById('passwordInput').value;
            const t = translations[currentLanguage];
            
            if (password === ADMIN_PASSWORD) {
                isAdmin = true;
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('uploadSection').classList.remove('hidden');
                document.getElementById('passwordInput').value = '';
            } else {
                alert(t.wrongPassword);
                document.getElementById('passwordInput').value = '';
            }
        }

        // Handle logout
        function handleLogout() {
            isAdmin = false;
            document.getElementById('loginSection').classList.remove('hidden');
            document.getElementById('uploadSection').classList.add('hidden');
        }

        // File input handler
        document.getElementById('fileInput').addEventListener('change', function(e) {
            selectedFile = e.target.files[0];
            const fileName = selectedFile ? selectedFile.name : translations[currentLanguage].clickToSelect;
            document.getElementById('fileName').textContent = fileName;
        });

        // Handle submit
        function handleSubmit() {
            const t = translations[currentLanguage];
            const title = document.getElementById('courseTitle').value;
            const description = document.getElementById('courseDescription').value;
            const category = document.getElementById('courseCategory').value;

            if (!title || !category || !selectedFile) {
                alert(t.selectFile);
                return;
            }

            const course = {
                id: Date.now(),
                title: title,
                description: description,
                category: category,
                fileName: selectedFile.name,
                fileData: URL.createObjectURL(selectedFile),
                uploadDate: new Date().toLocaleDateString()
            };

            if (!courses[category]) {
                courses[category] = [];
            }
            courses[category].push(course);

            saveData();
            renderCourses();
            updateStats();

            // Reset
            document.getElementById('courseTitle').value = '';
            document.getElementById('courseDescription').value = '';
            document.getElementById('courseCategory').value = '';
            document.getElementById('fileInput').value = '';
            document.getElementById('fileName').textContent = t.clickToSelect;
            selectedFile = null;

            alert(t.courseAdded);
        }

        // Render courses
        function renderCourses() {
            const t = translations[currentLanguage];
            const categoryIcons = {
                mathematics: '📐',
                informatique: '🔬',
                languages: '🗣️',
                other: '📖'
            };

            ['mathematics', 'science', 'languages', 'other'].forEach(category => {
                const container = document.getElementById(category);
                container.innerHTML = '';

                if (!courses[category] || courses[category].length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-state-icon">📭</div>
                            <p>${t.noCoursesYet}</p>
                        </div>
                    `;
                    return;
                }

                courses[category].forEach(course => {
                    const card = document.createElement('div');
                    card.className = 'course-card';
                    card.dataset.title = course.title.toLowerCase();
                    card.dataset.desc = (course.description || '').toLowerCase();
                    
                    card.innerHTML = `
                        ${isAdmin ? `<button class="delete-btn" onclick="deleteCourse('${category}', ${course.id})">×</button>` : ''}
                        <div class="course-icon">${categoryIcons[category]}</div>
                        <div class="course-title">${course.title}</div>
                        <div class="course-description">${course.description || 'No description provided'}</div>
                        <div class="course-meta">
                            <span>📅 ${course.uploadDate}</span>
                            <span>📄 PDF</span>
                        </div>
                        <a href="${course.fileData}" download="${course.fileName}" class="download-btn" onclick="incrementDownloads()">
                            ⬇️ ${t.downloadBtn}
                        </a>
                    `;
                    container.appendChild(card);
                });
            });
        }

        // Delete course
        function deleteCourse(category, courseId) {
            const t = translations[currentLanguage];
            if (confirm(t.deleteConfirm)) {
                courses[category] = courses[category].filter(c => c.id !== courseId);
                if (courses[category].length === 0) {
                    delete courses[category];
                }
                saveData();
                renderCourses();
                updateStats();
            }
        }

        // Increment downloads
        function incrementDownloads() {
            downloadCount++;
            saveData();
            updateStats();
        }

        // Update stats
        function updateStats() {
            let totalCourses = 0;
            Object.values(courses).forEach(cat => {
                totalCourses += cat.length;
            });
            document.getElementById('totalCourses').textContent = totalCourses;
            document.getElementById('totalDownloads').textContent = downloadCount;
        }

        // Filter courses
        function filterCourses() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            document.querySelectorAll('.course-card').forEach(card => {
                const title = card.dataset.title;
                const desc = card.dataset.desc;
                
                if (title.includes(searchTerm) || desc.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
    </script>
</body>

</html>
